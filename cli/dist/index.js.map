{"version":3,"sources":["../src/index.ts","../src/commands/sync.ts","../src/core/context.ts","../src/core/diff.ts","../src/utils/hash.ts","../src/adapters/claude.ts","../src/adapters/base.ts","../src/adapters/gemini.ts","../src/adapters/qwen.ts","../src/adapters/registry.ts","../src/core/sync-executor.ts","../src/utils/transform-gemini.ts","../src/utils/atomic-config.ts","../src/utils/config-adapter.ts","../src/utils/sync-mcp-cli.ts","../src/utils/env-manager.ts","../src/core/rollback.ts","../src/commands/status.ts","../src/commands/reset.ts"],"sourcesContent":["#!/usr/bin/env node\nimport { Command } from 'commander';\nimport { createSyncCommand } from './commands/sync.js';\nimport { createStatusCommand } from './commands/status.js';\nimport { createResetCommand } from './commands/reset.js';\n\nconst program = new Command();\n\nprogram\n    .name('jaggers-config')\n    .description('Sync agent tools (skills, hooks, config, MCP servers) across AI environments')\n    .version('1.2.0');\n\nprogram.addCommand(createSyncCommand());\nprogram.addCommand(createStatusCommand());\nprogram.addCommand(createResetCommand());\n\n// Default action: run sync (for backwards compatibility)\nprogram\n    .action(async () => {\n        // Delegate to sync command by default\n        const syncCmd = createSyncCommand();\n        await syncCmd.parseAsync([], { from: 'user' });\n    });\n\nprogram.parseAsync(process.argv);\n","import { Command } from 'commander';\nimport kleur from 'kleur';\n// @ts-ignore\nimport prompts from 'prompts';\nimport { getContext } from '../core/context.js';\nimport { calculateDiff } from '../core/diff.js';\nimport { executeSync } from '../core/sync-executor.js';\nimport path from 'path';\n\nexport function createSyncCommand(): Command {\n    return new Command('sync')\n        .description('Sync agent tools (skills, hooks, config) to target environments')\n        .option('--dry-run', 'Preview changes without making any modifications', false)\n        .option('-y, --yes', 'Skip confirmation prompts', false)\n        .option('--prune', 'Remove items not in the canonical repository', false)\n        .option('--backport', 'Backport drifted local changes back to the repository', false)\n        .action(async (opts) => {\n            const { dryRun, yes, prune, backport } = opts;\n            const actionType = backport ? 'backport' : 'sync';\n            const repoRoot = path.resolve(process.cwd(), '..');\n\n            if (dryRun) {\n                console.log(kleur.cyan('\\n  DRY RUN â€” no changes will be written\\n'));\n            }\n\n            const ctx = await getContext();\n            const { targets, syncMode, config } = ctx;\n\n            let totalCount = 0;\n\n            for (const target of targets) {\n                console.log(kleur.bold(`\\nðŸ“‚ Target: ${target}`));\n\n                const changeSet = await calculateDiff(repoRoot, target);\n                const totalChanges = Object.values(changeSet).reduce((sum, cat: any) => {\n                    return sum + cat.missing.length + cat.outdated.length + cat.drifted.length;\n                }, 0);\n\n                if (totalChanges === 0) {\n                    console.log(kleur.green('  âœ“ Already up-to-date'));\n                    continue;\n                }\n\n                // Print change summary\n                for (const [category, cat] of Object.entries(changeSet)) {\n                    const c = cat as any;\n                    if (c.missing.length > 0) {\n                        console.log(kleur.yellow(`  + ${c.missing.length} missing ${category}: ${c.missing.join(', ')}`));\n                    }\n                    if (c.outdated.length > 0) {\n                        console.log(kleur.blue(`  â†‘ ${c.outdated.length} outdated ${category}: ${c.outdated.join(', ')}`));\n                    }\n                    if (c.drifted.length > 0) {\n                        console.log(kleur.red(`  âœ— ${c.drifted.length} drifted ${category}: ${c.drifted.join(', ')}`));\n                    }\n                }\n\n                if (!yes && !dryRun) {\n                    const { confirm } = await prompts({\n                        type: 'confirm',\n                        name: 'confirm',\n                        message: `Proceed with ${actionType} (${totalChanges} changes)?`,\n                        initial: true,\n                    });\n\n                    if (!confirm) {\n                        console.log(kleur.gray('  Skipped.'));\n                        continue;\n                    }\n                }\n\n                const count = await executeSync(repoRoot, target, changeSet, syncMode, actionType, dryRun);\n                totalCount += count;\n                console.log(kleur.green(`  âœ“ ${dryRun ? '[DRY RUN]' : ''} Synced ${count} items`));\n            }\n\n            console.log(kleur.bold(kleur.green(`\\nâœ“ Total: ${totalCount} items synced\\n`)));\n        });\n}\n","import os from 'os';\nimport path from 'path';\nimport fs from 'fs-extra';\n// @ts-ignore\nimport Conf from 'conf';\n// @ts-ignore\nimport prompts from 'prompts';\nimport kleur from 'kleur';\nimport type { SyncMode } from '../types/config.js';\n\n\nexport interface Context {\n    targets: string[];\n    syncMode: 'copy' | 'symlink' | 'prune';\n    config: any;\n}\n\n// Initialize configuration (persists sync mode preference only)\nconst config = new Conf({\n    projectName: 'jaggers-config-manager',\n    defaults: {\n        syncMode: 'copy',\n    },\n});\n\nfunction getCandidatePaths(): Array<{ label: string; path: string }> {\n    const home = os.homedir();\n    const appData = process.env.APPDATA;\n    const isWindows = process.platform === 'win32';\n\n    const paths = [\n        { label: '.claude', path: path.join(home, '.claude') },\n        { label: '.gemini', path: path.join(home, '.gemini') },\n        { label: '.qwen', path: path.join(home, '.qwen') },\n        { label: '~/.gemini/antigravity', path: path.join(home, '.gemini', 'antigravity') },\n    ];\n\n    if (isWindows && appData) {\n        paths.push({ label: 'Claude (AppData)', path: path.join(appData, 'Claude') });\n    }\n\n    return paths;\n}\n\nexport async function getContext(): Promise<Context> {\n    const choices = [];\n    const candidates = getCandidatePaths();\n\n    for (const c of candidates) {\n        const exists = await fs.pathExists(c.path);\n        const icon = exists ? '[X]' : '[ ]';\n        const desc = exists ? 'Found' : 'Not found (will create)';\n\n        choices.push({\n            title: `${icon} ${c.label} (${c.path})`,\n            description: desc,\n            value: c.path,\n            selected: exists, // Pre-select existing environments\n        });\n    }\n\n    const response = await prompts({\n        type: 'multiselect',\n        name: 'targets',\n        message: 'Select target environment(s):',\n        choices: choices,\n        hint: '- Space to select. Return to submit',\n        instructions: false,\n    });\n\n    if (!response.targets || response.targets.length === 0) {\n        console.log(kleur.gray('No targets selected. Exiting.'));\n        process.exit(0);\n    }\n\n    // Ensure directories exist for selected targets\n    for (const target of response.targets) {\n        await fs.ensureDir(target);\n    }\n\n    return {\n        targets: response.targets,\n        syncMode: config.get('syncMode') as SyncMode,\n        config,\n    };\n\n}\n\nexport function resetContext(): void {\n    config.clear();\n    console.log(kleur.yellow('Configuration cleared.'));\n}\n","import { join } from 'path';\nimport fs from 'fs-extra';\nimport { hashDirectory, getNewestMtime } from '../utils/hash.js';\nimport type { ChangeSet } from '../types/config.js';\nimport { getAdapter } from '../adapters/registry.js';\nimport { detectAdapter } from '../adapters/registry.js';\n\nexport async function calculateDiff(repoRoot: string, systemRoot: string): Promise<ChangeSet> {\n    const adapter = detectAdapter(systemRoot);\n    const isClaude = adapter?.toolName === 'claude-code';\n    const isQwen = adapter?.toolName === 'qwen';\n    const isGemini = adapter?.toolName === 'gemini';\n\n    const changeSet: ChangeSet = {\n        skills: { missing: [], outdated: [], drifted: [], total: 0 },\n        hooks: { missing: [], outdated: [], drifted: [], total: 0 },\n        config: { missing: [], outdated: [], drifted: [], total: 0 },\n        commands: { missing: [], outdated: [], drifted: [], total: 0 },\n        'qwen-commands': { missing: [], outdated: [], drifted: [], total: 0 },\n        'antigravity-workflows': { missing: [], outdated: [], drifted: [], total: 0 },\n    };\n\n    // 1. Folders: Skills & Hooks & Commands\n    const folders = ['skills', 'hooks'];\n    if (isQwen) folders.push('qwen-commands');\n    else if (isGemini) folders.push('commands', 'antigravity-workflows');\n    else if (!isClaude) folders.push('commands');\n\n    for (const category of folders) {\n        let repoPath: string;\n        let systemPath: string;\n\n        if (category === 'commands') {\n            repoPath = join(repoRoot, '.gemini', 'commands');\n            systemPath = join(systemRoot, category);\n        } else if (category === 'qwen-commands') {\n            repoPath = join(repoRoot, '.qwen', 'commands');\n            systemPath = join(systemRoot, 'commands');\n        } else if (category === 'antigravity-workflows') {\n            repoPath = join(repoRoot, '.gemini', 'antigravity', 'global_workflows');\n            systemPath = join(systemRoot, '.gemini', 'antigravity', 'global_workflows');\n        } else {\n            repoPath = join(repoRoot, category);\n            systemPath = join(systemRoot, category);\n        }\n\n        if (!(await fs.pathExists(repoPath))) continue;\n\n        const items = await fs.readdir(repoPath);\n        (changeSet[category as keyof ChangeSet] as any).total = items.length;\n\n        for (const item of items) {\n            await compareItem(\n                category as keyof ChangeSet,\n                item,\n                join(repoPath, item),\n                join(systemPath, item),\n                changeSet\n            );\n        }\n    }\n\n    // 2. Config Files (Explicit Mapping)\n    const configMapping = {\n        'settings.json': { repo: 'config/settings.json', sys: 'settings.json' },\n    };\n\n    for (const [name, paths] of Object.entries(configMapping)) {\n        const itemRepoPath = join(repoRoot, paths.repo);\n        const itemSystemPath = join(systemRoot, paths.sys);\n\n        if (await fs.pathExists(itemRepoPath)) {\n            await compareItem('config', name, itemRepoPath, itemSystemPath, changeSet);\n        }\n    }\n\n    return changeSet;\n}\n\nasync function compareItem(\n    category: keyof ChangeSet,\n    item: string,\n    repoPath: string,\n    systemPath: string,\n    changeSet: ChangeSet\n): Promise<void> {\n    const cat = changeSet[category] as any;\n\n    if (!(await fs.pathExists(systemPath))) {\n        cat.missing.push(item);\n        return;\n    }\n\n    const repoHash = await hashDirectory(repoPath);\n    const systemHash = await hashDirectory(systemPath);\n\n    if (repoHash !== systemHash) {\n        const repoMtime = await getNewestMtime(repoPath);\n        const systemMtime = await getNewestMtime(systemPath);\n\n        if (systemMtime > repoMtime + 2000) {\n            cat.drifted.push(item);\n        } else {\n            cat.outdated.push(item);\n        }\n    }\n}\n","import { createHash } from 'crypto';\nimport fs from 'fs-extra';\nimport { join } from 'path';\n\nexport async function hashFile(filePath: string): Promise<string> {\n    const content = await fs.readFile(filePath);\n    return createHash('md5').update(content).digest('hex');\n}\n\nexport async function hashDirectory(dirPath: string): Promise<string> {\n    if (!(await fs.pathExists(dirPath))) return '';\n    const stats = await fs.stat(dirPath);\n\n    if (!stats.isDirectory()) {\n        return hashFile(dirPath);\n    }\n\n    const children = await fs.readdir(dirPath);\n    const childHashes = await Promise.all(\n        children.sort().map(async (child) => {\n            const h = await hashDirectory(join(dirPath, child));\n            return `${child}:${h}`;\n        })\n    );\n    return createHash('md5').update(childHashes.join('|')).digest('hex');\n}\n\nexport async function getNewestMtime(targetPath: string): Promise<number> {\n    if (!(await fs.pathExists(targetPath))) return 0;\n\n    const stats = await fs.stat(targetPath);\n    let maxTime = stats.mtimeMs;\n\n    if (stats.isDirectory()) {\n        const children = await fs.readdir(targetPath);\n        for (const child of children) {\n            const childTime = await getNewestMtime(join(targetPath, child));\n            if (childTime > maxTime) maxTime = childTime;\n        }\n    }\n    return maxTime;\n}\n","import { join } from 'path';\nimport { ToolAdapter, type AdapterCapabilities } from './base.js';\n\nexport class ClaudeAdapter extends ToolAdapter {\n    readonly toolName = 'claude-code';\n    readonly displayName = 'Claude Code';\n    readonly config: { tool: string; baseDir: string; displayName: string };\n\n    constructor(baseDir: string) {\n        super();\n        this.config = { tool: this.toolName, baseDir, displayName: this.displayName };\n    }\n\n    getConfigDir(): string {\n        return this.config.baseDir;\n    }\n\n    getSkillsDir(): string {\n        return join(this.config.baseDir, 'skills');\n    }\n\n    getHooksDir(): string {\n        return join(this.config.baseDir, 'hooks');\n    }\n\n    getCommandsDir(): string {\n        return join(this.config.baseDir, 'commands'); // Though Claude doesn't strictly use bare commands like Gemini\n    }\n\n    getCapabilities(): AdapterCapabilities {\n        return {\n            skills: true,\n            hooks: true,\n            mcp: true,\n            commands: false, // Claude uses Skills instead of Slash Commands natively\n        };\n    }\n}\n","import type { Skill, MCPServer, Hook, Command } from '../types/models.js';\n\nexport interface AdapterCapabilities {\n    skills: boolean;\n    hooks: boolean;\n    mcp: boolean;\n    commands: boolean;\n}\n\nexport interface AdapterConfig {\n    tool: string;\n    baseDir: string;\n    displayName: string;\n}\n\nexport abstract class ToolAdapter {\n    abstract readonly toolName: string;\n    abstract readonly displayName: string;\n    abstract readonly config: AdapterConfig;\n\n    // Capabilities\n    abstract getCapabilities(): AdapterCapabilities;\n\n    // Paths\n    abstract getConfigDir(): string;\n    abstract getSkillsDir(): string;\n    abstract getHooksDir(): string;\n    abstract getCommandsDir(): string;\n}\n","import { join } from 'path';\nimport { ToolAdapter, type AdapterCapabilities } from './base.js';\n\nexport class GeminiAdapter extends ToolAdapter {\n    readonly toolName = 'gemini';\n    readonly displayName = 'Gemini';\n    readonly config: { tool: string; baseDir: string; displayName: string };\n\n    constructor(baseDir: string) {\n        super();\n        this.config = { tool: this.toolName, baseDir, displayName: this.displayName };\n    }\n\n    getConfigDir(): string {\n        return this.config.baseDir;\n    }\n\n    getSkillsDir(): string {\n        return join(this.config.baseDir, 'skills');\n    }\n\n    getHooksDir(): string {\n        return join(this.config.baseDir, 'hooks');\n    }\n\n    getCommandsDir(): string {\n        if (this.config.baseDir.includes('antigravity')) {\n            return join(this.config.baseDir, 'global_workflows'); // Antigravity format\n        }\n        return join(this.config.baseDir, 'commands'); // Standard Gemini format\n    }\n\n    getCapabilities(): AdapterCapabilities {\n        return {\n            skills: true,\n            hooks: true, // Gemini supports PreToolUse -> BeforeTool via our wrapper\n            mcp: true,\n            commands: true, // Auto-generates commands from skills\n        };\n    }\n}\n","import { join } from 'path';\nimport { ToolAdapter, type AdapterCapabilities } from './base.js';\n\nexport class QwenAdapter extends ToolAdapter {\n    readonly toolName = 'qwen';\n    readonly displayName = 'Qwen';\n    readonly config: { tool: string; baseDir: string; displayName: string };\n\n    constructor(baseDir: string) {\n        super();\n        this.config = { tool: this.toolName, baseDir, displayName: this.displayName };\n    }\n\n    getConfigDir(): string {\n        return this.config.baseDir;\n    }\n\n    getSkillsDir(): string {\n        return join(this.config.baseDir, 'skills');\n    }\n\n    getHooksDir(): string {\n        return join(this.config.baseDir, 'hooks');\n    }\n\n    getCommandsDir(): string {\n        return join(this.config.baseDir, 'commands');\n    }\n\n    getCapabilities(): AdapterCapabilities {\n        return {\n            skills: true,\n            hooks: true,\n            mcp: true,\n            commands: true,\n        };\n    }\n}\n","import { ToolAdapter } from './base.js';\nimport { ClaudeAdapter } from './claude.js';\nimport { GeminiAdapter } from './gemini.js';\nimport { QwenAdapter } from './qwen.js';\n\nconst adapters = new Map<string, typeof ToolAdapter>([\n    ['claude-code', ClaudeAdapter as any],\n    ['gemini', GeminiAdapter as any],\n    ['qwen', QwenAdapter as any],\n]);\n\nexport function getAdapter(toolName: string, baseDir: string): ToolAdapter {\n    const AdapterClass = adapters.get(toolName);\n    if (!AdapterClass) {\n        throw new Error(`Unknown tool: ${toolName}`);\n    }\n    return new (AdapterClass as any)(baseDir);\n}\n\nexport function detectAdapter(systemRoot: string): ToolAdapter | null {\n    // Windows compatibility: Normalize backslashes before matching paths\n    const normalized = systemRoot.replace(/\\\\/g, '/').toLowerCase();\n\n    if (normalized.includes('.claude') || normalized.includes('/claude')) {\n        return new ClaudeAdapter(systemRoot);\n    }\n    if (normalized.includes('.gemini') || normalized.includes('/gemini')) {\n        return new GeminiAdapter(systemRoot);\n    }\n    if (normalized.includes('.qwen') || normalized.includes('/qwen')) {\n        return new QwenAdapter(systemRoot);\n    }\n\n    return null;\n}\n","import path from 'path';\nimport fs from 'fs-extra';\nimport kleur from 'kleur';\nimport { transformGeminiConfig, transformSkillToCommand } from '../utils/transform-gemini.js';\nimport { safeMergeConfig } from '../utils/atomic-config.js';\nimport { ConfigAdapter } from '../utils/config-adapter.js';\nimport { syncMcpServersWithCli, loadCanonicalMcpConfig, detectAgent } from '../utils/sync-mcp-cli.js';\nimport { createBackup, restoreBackup, cleanupBackup, type BackupInfo } from './rollback.js';\nimport type { ChangeSet } from '../types/config.js';\n\n/**\n * Execute a sync plan based on changeset and mode\n */\nexport async function executeSync(\n    repoRoot: string,\n    systemRoot: string,\n    changeSet: ChangeSet,\n    mode: 'copy' | 'symlink' | 'prune',\n    actionType: 'sync' | 'backport',\n    isDryRun: boolean = false\n): Promise<number> {\n    const isClaude = systemRoot.includes('.claude') || systemRoot.includes('Claude');\n    const isQwen = systemRoot.includes('.qwen') || systemRoot.includes('Qwen');\n    const isGemini = systemRoot.includes('.gemini') || systemRoot.includes('Gemini');\n\n    const categories: Array<keyof ChangeSet> = ['skills', 'hooks', 'config'];\n\n    if (isQwen) categories.push('qwen-commands');\n    else if (isGemini) categories.push('commands', 'antigravity-workflows');\n    else if (!isClaude) categories.push('commands');\n\n    let count = 0;\n    const adapter = new ConfigAdapter(systemRoot);\n    const backups: BackupInfo[] = [];\n\n    try {\n        const agent = detectAgent(systemRoot);\n        if (agent && actionType === 'sync') {\n            console.log(kleur.gray(`  --> ${agent} MCP servers (via ${agent} mcp CLI)`));\n            const canonicalConfig = loadCanonicalMcpConfig(repoRoot);\n            await syncMcpServersWithCli(agent, canonicalConfig, isDryRun, mode === 'prune');\n            count++;\n        }\n\n        for (const category of categories) {\n            const itemsToProcess: string[] = [];\n\n            if (actionType === 'sync') {\n                const cat = changeSet[category] as any;\n                itemsToProcess.push(...cat.missing);\n                itemsToProcess.push(...cat.outdated);\n\n                // PRUNE: Handle removals from system if no longer in repo\n                if (mode === 'prune') {\n                    for (const itemToDelete of cat.drifted || []) {\n                        const dest = path.join(systemRoot, category, itemToDelete);\n                        console.log(kleur.red(`  [x] PRUNING ${category}/${itemToDelete}`));\n                        if (!isDryRun) {\n                            if (await fs.pathExists(dest)) {\n                                backups.push(await createBackup(dest));\n                                await fs.remove(dest);\n                            }\n                        }\n                        count++;\n                    }\n                }\n            } else if (actionType === 'backport') {\n                const cat = changeSet[category] as any;\n                itemsToProcess.push(...cat.drifted);\n            }\n\n            for (const item of itemsToProcess) {\n                let src: string, dest: string;\n\n                if (category === 'config' && item === 'settings.json' && actionType === 'sync') {\n                    src = path.join(repoRoot, 'config', 'settings.json');\n                    dest = path.join(systemRoot, 'settings.json');\n\n                    console.log(kleur.gray(`  --> config/settings.json`));\n\n                    if (agent) {\n                        console.log(kleur.gray(`  (Skipped: ${agent} uses ${agent} mcp CLI for MCP servers)`));\n                        count++;\n                        continue;\n                    }\n\n                    if (!isDryRun && await fs.pathExists(dest)) {\n                        backups.push(await createBackup(dest));\n                    }\n\n                    const repoConfig = await fs.readJson(src);\n                    let finalRepoConfig = resolveConfigPaths(repoConfig, systemRoot);\n\n                    const hooksSrc = path.join(repoRoot, 'config', 'hooks.json');\n                    if (await fs.pathExists(hooksSrc)) {\n                        const hooksRaw = await fs.readJson(hooksSrc);\n                        const hooksAdapted = adapter.adaptHooksConfig(hooksRaw);\n                        if (hooksAdapted.hooks) {\n                            finalRepoConfig.hooks = { ...(finalRepoConfig.hooks || {}), ...hooksAdapted.hooks };\n                            if (!isDryRun) console.log(kleur.dim(`      (Injected hooks)`));\n                        }\n                    }\n\n                    if (fs.existsSync(dest)) {\n                        const localConfig = await fs.readJson(dest);\n                        const resolvedLocalConfig = resolveConfigPaths(localConfig, systemRoot);\n\n                        if (mode === 'prune') {\n                            if (localConfig.mcpServers && finalRepoConfig.mcpServers) {\n                                const canonicalServers = new Set(Object.keys(finalRepoConfig.mcpServers));\n                                for (const serverName of Object.keys(localConfig.mcpServers)) {\n                                    if (!canonicalServers.has(serverName)) {\n                                        delete localConfig.mcpServers[serverName];\n                                        if (!isDryRun) console.log(kleur.red(`      (Pruned local MCP server: ${serverName})`));\n                                    }\n                                }\n                            }\n                        }\n\n                        const mergeResult = await safeMergeConfig(dest, finalRepoConfig, {\n                            backupOnSuccess: false, // Handled by our own rollback system\n                            preserveComments: true,\n                            dryRun: isDryRun,\n                            resolvedLocalConfig: resolvedLocalConfig\n                        });\n\n                        if (mergeResult.updated) {\n                            console.log(kleur.blue(`      (Configuration safely merged)`));\n                        }\n                    } else {\n                        if (!isDryRun) {\n                            await fs.ensureDir(path.dirname(dest));\n                            await fs.writeJson(dest, finalRepoConfig, { spaces: 2 });\n                        }\n                        console.log(kleur.green(`      (Created new configuration)`));\n                    }\n                    count++;\n                    continue;\n                }\n\n                // Standard file sync for other items\n                const repoPath = category === 'commands' ? path.join(repoRoot, '.gemini', 'commands') :\n                    category === 'qwen-commands' ? path.join(repoRoot, '.qwen', 'commands') :\n                        category === 'antigravity-workflows' ? path.join(repoRoot, '.gemini', 'antigravity', 'global_workflows') :\n                            path.join(repoRoot, category);\n\n                const systemPath = category === 'qwen-commands' ? path.join(systemRoot, 'commands') :\n                    category === 'antigravity-workflows' ? path.join(systemRoot, '.gemini', 'antigravity', 'global_workflows') :\n                        path.join(systemRoot, category);\n\n                if (actionType === 'backport') {\n                    src = path.join(systemPath, item);\n                    dest = path.join(repoPath, item);\n                } else {\n                    src = path.join(repoPath, item);\n                    dest = path.join(systemPath, item);\n                }\n\n                console.log(kleur.gray(`  ${actionType === 'backport' ? '<--' : '-->'} ${category}/${item}`));\n\n                if (!isDryRun && actionType === 'sync' && await fs.pathExists(dest)) {\n                    backups.push(await createBackup(dest));\n                }\n\n                if (mode === 'symlink' && actionType === 'sync' && category !== 'config') {\n                    if (!isDryRun) {\n                        if (process.platform === 'win32') {\n                            console.log(kleur.yellow('  âš  Symlinks require Developer Mode on Windows â€” falling back to copy.'));\n                            await fs.remove(dest);\n                            await fs.copy(src, dest);\n                        } else {\n                            await fs.remove(dest);\n                            await fs.ensureSymlink(src, dest);\n                        }\n                    }\n                } else {\n                    if (!isDryRun) {\n                        await fs.remove(dest);\n                        await fs.copy(src, dest);\n                    }\n                }\n\n                if (category === 'skills' && !isClaude && actionType === 'sync') {\n                    const skillMdPath = path.join(src, 'SKILL.md');\n                    if (fs.existsSync(skillMdPath)) {\n                        const result = await transformSkillToCommand(skillMdPath);\n                        if (result && !isDryRun) {\n                            const commandDest = path.join(systemRoot, 'commands', `${result.commandName}.toml`);\n\n                            if (await fs.pathExists(commandDest)) {\n                                backups.push(await createBackup(commandDest));\n                            }\n\n                            await fs.ensureDir(path.dirname(commandDest));\n                            await fs.writeFile(commandDest, result.toml);\n                            console.log(kleur.cyan(`      (Auto-generated slash command: /${result.commandName})`));\n                        }\n                    }\n                }\n\n                count++;\n            }\n        }\n\n        if (!isDryRun && actionType === 'sync') {\n            const manifestPath = path.join(systemRoot, '.jaggers-sync-manifest.json');\n            const manifest = {\n                lastSync: new Date().toISOString(),\n                repoRoot,\n                items: count\n            };\n            await fs.writeJson(manifestPath, manifest, { spaces: 2 });\n        }\n\n        // Cleanup backups on success\n        for (const backup of backups) {\n            await cleanupBackup(backup);\n        }\n\n        return count;\n\n    } catch (error: any) {\n        console.error(kleur.red(`\\nSync failed, rolling back ${backups.length} changes...`));\n        for (const backup of backups) {\n            await restoreBackup(backup);\n            await cleanupBackup(backup);\n        }\n        throw error;\n    }\n}\n\nfunction resolveConfigPaths(config: any, targetDir: string): any {\n    const newConfig = JSON.parse(JSON.stringify(config));\n\n    function recursiveReplace(obj: any) {\n        for (const key in obj) {\n            if (typeof obj[key] === 'string') {\n                if (obj[key].match(/\\/[^\\s\"']+\\/hooks\\//)) {\n                    const hooksDir = path.join(targetDir, 'hooks');\n                    let replacementDir = `${hooksDir}/`;\n\n                    if (process.platform === 'win32') {\n                        replacementDir = replacementDir.replace(/\\\\/g, '/');\n                    }\n\n                    obj[key] = obj[key].replace(/(\\/[^\\s\"']+\\/hooks\\/)/g, replacementDir);\n                }\n            } else if (typeof obj[key] === 'object' && obj[key] !== null) {\n                recursiveReplace(obj[key]);\n            }\n        }\n    }\n\n    recursiveReplace(newConfig);\n    return newConfig;\n}\n","import fs from 'fs-extra';\nimport { Hook } from '../types/models.js';\n\n/**\n * Transform Claude settings.json to Gemini-compatible format\n */\nexport function transformGeminiConfig(claudeConfig: any, targetDir: string): any {\n    const geminiConfig: any = {\n        hooks: {}\n    };\n\n    if (claudeConfig.hooks) {\n        for (const [event, hooks] of Object.entries(claudeConfig.hooks)) {\n            const geminiEvent = mapEventName(event);\n            if (!geminiEvent) continue;\n            geminiConfig.hooks[geminiEvent] = (hooks as any[]).map(def => transformHookDefinition(def, targetDir));\n        }\n    }\n\n    return geminiConfig;\n}\n\nfunction mapEventName(claudeEvent: string): string | null {\n    const map: Record<string, string> = {\n        'UserPromptSubmit': 'BeforeAgent',\n        'PreToolUse': 'BeforeTool',\n        'SessionStart': 'SessionStart',\n    };\n    return map[claudeEvent] || null;\n}\n\nfunction transformHookDefinition(claudeDef: any, targetDir: string): any {\n    const geminiDef: any = {\n        hooks: []\n    };\n\n    if (claudeDef.matcher) {\n        let matcher = claudeDef.matcher;\n        const toolMap = {\n            'Read': 'read_file',\n            'Write': 'write_file',\n            'Edit': 'replace',\n            'Bash': 'run_shell_command'\n        };\n\n        for (const [claudeTool, geminiTool] of Object.entries(toolMap)) {\n            const regex = new RegExp(`\\\\b${claudeTool}\\\\b`, 'g');\n            matcher = matcher.replace(regex, geminiTool);\n        }\n\n        geminiDef.matcher = matcher;\n    }\n\n    geminiDef.hooks = claudeDef.hooks.map((h: any, index: number) => {\n        let newCommand = h.command;\n        if (targetDir) {\n            const claudePathRegex = /(\\/[^\\s\"']+\\.claude)/g;\n            newCommand = newCommand.replace(claudePathRegex, ` ${targetDir}`);\n        }\n\n        return {\n            name: h.name || `generated-hook-${index}`,\n            type: \"command\",\n            command: newCommand,\n            timeout: h.timeout || 60000\n        };\n    });\n\n    return geminiDef;\n}\n\nexport interface TransformResult {\n    toml: string;\n    commandName: string;\n}\n\n/**\n * Transform a SKILL.md file into a Gemini command .toml content\n */\nexport async function transformSkillToCommand(skillMdPath: string): Promise<TransformResult | null> {\n    try {\n        const content = await fs.readFile(skillMdPath, 'utf8');\n\n        // Extract frontmatter\n        const frontmatterMatch = content.match(/^---([\\s\\S]+?)---/);\n        if (!frontmatterMatch) return null;\n\n        const frontmatter = frontmatterMatch[1];\n\n        // Extract required and optional fields\n        const nameMatch = frontmatter.match(/name:\\s*(.+)/);\n        const descMatch = frontmatter.match(/description:\\s*(.+)/);\n        const geminiCmdMatch = frontmatter.match(/gemini-command:\\s*(.+)/);\n        const geminiPromptMatch = frontmatter.match(/gemini-prompt:\\s*\\|?\\s*\\n?([\\s\\S]+?)(?=\\n[a-z- ]+:|$)/);\n\n        if (!nameMatch || !descMatch) return null;\n\n        const name = nameMatch[1].trim();\n        const description = descMatch[1].trim();\n        const commandName = geminiCmdMatch ? geminiCmdMatch[1].trim() : name;\n\n        let promptBody = `Use the ${name} skill to handle this: {{args}}`;\n        if (geminiPromptMatch) {\n            const extraLines = geminiPromptMatch[1].trim();\n            promptBody = `Use the ${name} skill to handle this request: {{args}}\\n\\n${extraLines}`;\n        }\n\n        const toml = `description = \"\"\"${description}\"\"\"\nprompt = \"\"\"\n${promptBody}\n\"\"\"\n`;\n        return {\n            toml,\n            commandName\n        };\n    } catch (error: any) {\n        console.error(`Error transforming skill to command: ${error.message}`);\n        return null;\n    }\n}\n","import fs from 'fs-extra';\n// @ts-ignore\nimport { parse, stringify } from 'comment-json';\n\n/**\n * Atomic Configuration Handler with Vault Pattern\n * Ensures safe read/write operations with protection against corruption during crashes\n */\n\n// Protected keys that should never be overwritten if they exist locally\nconst PROTECTED_KEYS = [\n    'permissions.allow',       // User-defined permissions\n    'hooks.UserPromptSubmit',  // Claude hooks\n    'hooks.SessionStart',\n    'hooks.PreToolUse',\n    'hooks.BeforeAgent',       // Gemini hooks\n    'hooks.BeforeTool',        // Gemini hooks\n    'security',                // Auth secrets/OAuth data\n    'general',                 // Personal preferences\n    'enabledPlugins',          // User-enabled/disabled plugins\n    'model',                   // User's preferred model\n    'skillSuggestions.enabled' // User preferences\n];\n\n/**\n * Check if a key path is exactly protected or a parent of a protected key\n */\nexport function isProtectedPath(keyPath: string): boolean {\n    return PROTECTED_KEYS.some(protectedPath =>\n        keyPath === protectedPath || protectedPath.startsWith(keyPath + '.')\n    );\n}\n\n/**\n * Check if a key path is a protected key or a child of a protected key\n */\nexport function isValueProtected(keyPath: string): boolean {\n    return PROTECTED_KEYS.some(protectedPath =>\n        keyPath === protectedPath || keyPath.startsWith(protectedPath + '.')\n    );\n}\n\n/**\n * Deep merge two objects, preserving protected values from the original\n */\nexport function deepMergeWithProtection(original: any, updates: any, currentPath: string = ''): any {\n    const result = { ...original };\n\n    for (const [key, value] of Object.entries(updates)) {\n        const keyPath = currentPath ? `${currentPath}.${key}` : key;\n\n        // If this specific value is protected and exists locally, skip it\n        if (isValueProtected(keyPath) && original.hasOwnProperty(key)) {\n            continue;\n        }\n\n        // Special handling for mcpServers: merge individual server entries\n        if (key === 'mcpServers' && typeof value === 'object' && value !== null &&\n            typeof original[key] === 'object' && original[key] !== null) {\n\n            result[key] = { ...original[key] }; // Start with original servers\n\n            // Add servers from updates that don't exist in original\n            for (const [serverName, serverConfig] of Object.entries(value)) {\n                if (!result[key].hasOwnProperty(serverName)) {\n                    result[key][serverName] = serverConfig;\n                }\n            }\n        } else if (\n            typeof value === 'object' &&\n            value !== null &&\n            !Array.isArray(value) &&\n            typeof original[key] === 'object' &&\n            original[key] !== null &&\n            !Array.isArray(original[key])\n        ) {\n            // Recursively merge nested objects\n            result[key] = deepMergeWithProtection(original[key], value, keyPath);\n        } else {\n            // Overwrite with new value for non-protected keys\n            result[key] = value;\n        }\n    }\n\n    return result;\n}\n\ninterface AtomicWriteOptions {\n    preserveComments?: boolean;\n    backupOnSuccess?: boolean;\n    backupSuffix?: string;\n}\n\n/**\n * Atomically write data to a file using a temporary file\n */\nexport async function atomicWrite(filePath: string, data: any, options: AtomicWriteOptions = {}): Promise<void> {\n    const {\n        preserveComments = false,\n        backupOnSuccess = false,\n        backupSuffix = '.bak'\n    } = options;\n\n    const tempFilePath = `${filePath}.tmp.${Date.now()}.${Math.random().toString(36).substr(2, 9)}`;\n\n    try {\n        let content: string;\n        if (preserveComments) {\n            content = stringify(data, null, 2);\n        } else {\n            content = JSON.stringify(data, null, 2);\n        }\n\n        await fs.writeFile(tempFilePath, content, 'utf8');\n\n        const tempStats = await fs.stat(tempFilePath);\n        if (tempStats.size === 0) {\n            throw new Error('Temporary file is empty - write failed');\n        }\n\n        if (backupOnSuccess && await fs.pathExists(filePath)) {\n            const backupPath = `${filePath}${backupSuffix}`;\n            await fs.copy(filePath, backupPath);\n        }\n\n        await fs.rename(tempFilePath, filePath);\n    } catch (error) {\n        try {\n            if (await fs.pathExists(tempFilePath)) {\n                await fs.unlink(tempFilePath);\n            }\n        } catch (cleanupError) { }\n        throw error;\n    }\n}\n\n/**\n * Safely read a JSON configuration file with error handling\n */\nexport async function safeReadConfig(filePath: string): Promise<any> {\n    try {\n        if (!(await fs.pathExists(filePath))) {\n            return {};\n        }\n\n        const content = await fs.readFile(filePath, 'utf8');\n\n        try {\n            return parse(content);\n        } catch (parseError) {\n            return JSON.parse(content);\n        }\n    } catch (error: any) {\n        if (error.code === 'ENOENT') return {};\n        throw new Error(`Failed to read config file: ${error.message}`);\n    }\n}\n\ninterface MergeOptions {\n    preserveComments?: boolean;\n    backupOnSuccess?: boolean;\n    dryRun?: boolean;\n    resolvedLocalConfig?: any;\n}\n\nexport interface MergeResult {\n    updated: boolean;\n    changes: string[];\n}\n\n/**\n * Perform a safe merge of repository config with local config\n */\nexport async function safeMergeConfig(localConfigPath: string, repoConfig: any, options: MergeOptions = {}): Promise<MergeResult> {\n    const {\n        preserveComments = true,\n        backupOnSuccess = true,\n        dryRun = false,\n        resolvedLocalConfig = null\n    } = options;\n\n    const localConfig = resolvedLocalConfig || await safeReadConfig(localConfigPath);\n    const changes: string[] = [];\n\n    if (localConfig.mcpServers && typeof localConfig.mcpServers === 'object') {\n        const localServerNames = Object.keys(localConfig.mcpServers);\n        if (localServerNames.length > 0) {\n            changes.push(`Preserved ${localServerNames.length} local mcpServers: ${localServerNames.join(', ')}`);\n        }\n    }\n\n    if (repoConfig.mcpServers && typeof repoConfig.mcpServers === 'object') {\n        const repoServerNames = Object.keys(repoConfig.mcpServers);\n        const newServerNames = repoServerNames.filter(name =>\n            !localConfig.mcpServers || !localConfig.mcpServers.hasOwnProperty(name)\n        );\n\n        if (newServerNames.length > 0) {\n            changes.push(`Added ${newServerNames.length} new non-conflicting mcpServers from repository: ${newServerNames.join(', ')}`);\n        }\n    }\n\n    const mergedConfig = deepMergeWithProtection(localConfig, repoConfig);\n    const configsAreEqual = JSON.stringify(localConfig) === JSON.stringify(mergedConfig);\n\n    if (!configsAreEqual && !dryRun) {\n        await atomicWrite(localConfigPath, mergedConfig, {\n            preserveComments,\n            backupOnSuccess\n        });\n    }\n\n    return {\n        updated: !configsAreEqual,\n        changes\n    };\n}\n\nexport function getProtectedKeys(): string[] {\n    return [...PROTECTED_KEYS];\n}\n","import path from 'path';\nimport os from 'os';\n\nexport class EnvVarTransformer {\n    static transform(value: any, from: string, to: string): any {\n        if (from === to) return value;\n        if (typeof value === \"string\") return this.transformString(value, from, to);\n        if (Array.isArray(value)) return value.map((item) => this.transform(item, from, to));\n        if (value && typeof value === \"object\") {\n            const result: Record<string, any> = {};\n            for (const [key, item] of Object.entries(value)) {\n                result[key] = this.transform(item, from, to);\n            }\n            return result;\n        }\n        return value;\n    }\n\n    static transformString(value: string, from: string, to: string): string {\n        const normalized = this.toNormalized(value, from);\n        return this.fromNormalized(normalized, to);\n    }\n\n    static toNormalized(value: string, from: string): string {\n        switch (from) {\n            case \"claude\": return value;\n            case \"cursor\": return value.replace(/\\$\\{env:([A-Za-z0-9_]+)\\}/g, \"${$1}\");\n            case \"opencode\": return value.replace(/\\{env:([A-Za-z0-9_]+)\\}/g, \"${$1}\");\n            case \"gemini\": return value;\n            case \"qwen\": return value;\n            default: return value;\n        }\n    }\n\n    static fromNormalized(value: string, to: string): string {\n        switch (to) {\n            case \"claude\": return value;\n            case \"cursor\":\n                return value.replace(/\\$\\{([A-Z0-9_]+)\\}/g, (match, name) => {\n                    if ([\"workspaceFolder\", \"userHome\"].includes(name)) return match;\n                    return `\\${env:${name}}`;\n                });\n            case \"opencode\":\n                return value.replace(/\\$\\{([A-Z0-9_]+)\\}/g, \"{env:$1}\");\n            case \"gemini\": return value;\n            case \"qwen\": return value;\n            default: return value;\n        }\n    }\n}\n\nexport class ConfigAdapter {\n    systemRoot: string;\n    homeDir: string;\n    isClaude: boolean;\n    isGemini: boolean;\n    isQwen: boolean;\n    isCursor: boolean;\n    isAntigravity: boolean;\n    targetFormat: string;\n    hooksDir: string;\n\n    constructor(systemRoot: string) {\n        this.systemRoot = systemRoot;\n        this.homeDir = os.homedir();\n\n        // Normalize path for platform-agnostic matching\n        const normalizedRoot = systemRoot.replace(/\\\\/g, '/').toLowerCase();\n\n        this.isClaude = normalizedRoot.includes('.claude') || normalizedRoot.includes('/claude');\n        this.isGemini = normalizedRoot.includes('.gemini') || normalizedRoot.includes('/gemini');\n        this.isQwen = normalizedRoot.includes('.qwen') || normalizedRoot.includes('/qwen');\n        this.isCursor = normalizedRoot.includes('cursor');\n        this.isAntigravity = normalizedRoot.includes('antigravity');\n\n        this.targetFormat = this.isCursor ? 'cursor' :\n            this.isAntigravity ? 'antigravity' :\n                (this.isClaude ? 'claude' : 'claude');\n\n        this.hooksDir = path.join(this.systemRoot, 'hooks');\n    }\n\n    adaptMcpConfig(canonicalConfig: any): any {\n        if (!canonicalConfig || !canonicalConfig.mcpServers) return {};\n        const config = JSON.parse(JSON.stringify(canonicalConfig));\n\n        // Transform Env Vars\n        config.mcpServers = EnvVarTransformer.transform(config.mcpServers, 'claude', this.targetFormat);\n\n        // Apply format-specific transformations\n        if (this.isGemini || this.isQwen) {\n            this.transformToGeminiFormat(config.mcpServers);\n        } else if (this.isAntigravity) {\n            this.transformToAntigravityFormat(config.mcpServers);\n        } else if (this.isClaude) {\n            this.transformToClaudeFormat(config.mcpServers);\n        }\n\n        // Resolve Paths\n        this.resolveMcpPaths(config.mcpServers);\n\n        return config;\n    }\n\n    adaptHooksConfig(canonicalHooks: any): any {\n        if (!canonicalHooks) return {};\n        if (this.isCursor) return { hooks: {} };\n\n        const hooksConfig = JSON.parse(JSON.stringify(canonicalHooks));\n\n        if (this.isGemini) {\n            return this.transformToGeminiHooks(hooksConfig);\n        }\n\n        this.resolveHookScripts(hooksConfig);\n        return hooksConfig;\n    }\n\n    resolveMcpPaths(servers: any): void {\n        for (const server of Object.values<any>(servers)) {\n            if (server.args) server.args = server.args.map((arg: string) => this.resolvePath(arg));\n            if (server.cwd) server.cwd = this.resolvePath(server.cwd);\n            if (server.env) {\n                for (const key in server.env) server.env[key] = this.resolvePath(server.env[key]);\n            }\n        }\n    }\n\n    transformToGeminiFormat(servers: any): void {\n        for (const server of Object.values<any>(servers)) {\n            delete server.type;\n        }\n    }\n\n    transformToClaudeFormat(servers: any): void {\n        for (const server of Object.values<any>(servers)) {\n            if (server.url && !server.type) {\n                if (server.url.includes('/sse')) {\n                    server.type = 'sse';\n                } else {\n                    server.type = 'http';\n                }\n            } else if (server.command && !server.type) {\n                server.type = 'stdio';\n            }\n        }\n    }\n\n    transformToAntigravityFormat(servers: any): void {\n        for (const [name, server] of Object.entries<any>(servers)) {\n            // Ensure type is set\n            if (server.url && !server.type) {\n                if (server.url.includes('/sse')) {\n                    server.type = 'sse';\n                } else {\n                    server.type = 'http';\n                }\n            } else if (server.command && !server.type) {\n                server.type = 'stdio';\n            }\n\n            // Transform url â†’ serverUrl for HTTP/SSE servers\n            if (server.url && (server.type === 'http' || server.type === 'sse')) {\n                server.serverUrl = server.url;\n                delete server.url;\n            }\n        }\n    }\n\n    resolveHookScripts(hooksConfig: any): void {\n        if (hooksConfig.hooks) {\n            const pythonBin = process.platform === 'win32' ? 'python' : 'python3';\n\n            for (const [event, hooks] of Object.entries(hooksConfig.hooks)) {\n                if (Array.isArray(hooks)) {\n                    hooks.forEach((hook: any) => {\n                        if (hook.script) {\n                            hook.type = \"command\";\n                            const resolvedScriptPath = this.resolvePath(path.join(this.hooksDir, hook.script));\n                            hook.command = `${pythonBin} ${resolvedScriptPath}`;\n                            delete hook.script;\n                        }\n                    });\n                }\n            }\n        }\n        if (hooksConfig.statusLine && hooksConfig.statusLine.script) {\n            const pythonBin = process.platform === 'win32' ? 'python' : 'python3';\n            hooksConfig.statusLine.type = \"command\";\n            const resolvedScriptPath = this.resolvePath(path.join(this.hooksDir, hooksConfig.statusLine.script));\n            hooksConfig.statusLine.command = `${pythonBin} ${resolvedScriptPath}`;\n            delete hooksConfig.statusLine.script;\n        }\n    }\n\n    transformToGeminiHooks(hooksConfig: any): any {\n        const geminiHooks: any = { hooks: {} };\n        const eventMap: Record<string, string> = {\n            'UserPromptSubmit': 'BeforeAgent',\n            'PreToolUse': 'BeforeTool',\n            'SessionStart': 'SessionStart'\n        };\n        const toolMap: Record<string, string> = {\n            'Read': 'read_file', 'Write': 'write_file', 'Edit': 'replace', 'Bash': 'run_shell_command'\n        };\n\n        const pythonBin = process.platform === 'win32' ? 'python' : 'python3';\n\n        for (const [event, hooks] of Object.entries<any[]>(hooksConfig.hooks || {})) {\n            const geminiEvent = eventMap[event];\n            if (!geminiEvent) continue;\n            geminiHooks.hooks[geminiEvent] = hooks.map((hook: any) => {\n                const newHook = { ...hook };\n                if (newHook.matcher) {\n                    for (const [claudeTool, geminiTool] of Object.entries(toolMap)) {\n                        newHook.matcher = newHook.matcher.replace(new RegExp(`\\\\b${claudeTool}\\\\b`, 'g'), geminiTool);\n                    }\n                }\n                if (newHook.script) {\n                    newHook.type = \"command\";\n                    const resolvedScriptPath = this.resolvePath(path.join(this.hooksDir, newHook.script));\n                    newHook.command = `${pythonBin} ${resolvedScriptPath}`;\n                    delete newHook.script;\n                }\n                newHook.timeout = newHook.timeout || 60000;\n                return newHook;\n            });\n        }\n        return geminiHooks;\n    }\n\n    resolvePath(p: string): string {\n        if (!p || typeof p !== 'string') return p;\n        let resolved = p.replace(/~\\//g, this.homeDir + '/').replace(/\\${HOME}/g, this.homeDir);\n\n        // Windows compatibility: use forward slashes in config files\n        if (process.platform === 'win32') {\n            resolved = resolved.replace(/\\\\/g, '/');\n        }\n\n        return resolved;\n    }\n}\n","import { execSync } from 'child_process';\nimport fs from 'fs-extra';\nimport path from 'path';\nimport kleur from 'kleur';\nimport { ensureEnvFile, loadEnvFile, checkRequiredEnvVars, handleMissingEnvVars, getEnvFilePath } from './env-manager.js';\n\ntype AgentName = 'claude' | 'gemini' | 'qwen';\n\ninterface AgentCLI {\n    command: string;\n    listArgs: string[];\n    addStdio: (name: string, cmd: string, args?: string[], env?: Record<string, string>) => string[];\n    addHttp: (name: string, url: string, headers?: Record<string, string>) => string[];\n    addSse: (name: string, url: string) => string[];\n    remove: (name: string) => string[];\n    parseList: (output: string) => string[];\n}\n\nconst AGENT_CLI: Record<AgentName, AgentCLI> = {\n    claude: {\n        command: 'claude',\n        listArgs: ['mcp', 'list'],\n        addStdio: (name, cmd, args, env) => {\n            const base = ['mcp', 'add', '-s', 'user', name, '--'];\n            if (env && Object.keys(env).length > 0) {\n                for (const [key, value] of Object.entries(env)) {\n                    base.push('-e', `${key}=${resolveEnvVar(value)}`);\n                }\n            }\n            base.push(cmd, ...(args || []));\n            return base;\n        },\n        addHttp: (name, url, headers) => {\n            const base = ['mcp', 'add', '-s', 'user', '--transport', 'http', name, url];\n            if (headers) {\n                for (const [key, value] of Object.entries(headers)) {\n                    base.push('--header', `${key}: ${resolveEnvVar(value)}`);\n                }\n            }\n            return base;\n        },\n        addSse: (name, url) => {\n            return ['mcp', 'add', '-s', 'user', '--transport', 'sse', name, url];\n        },\n        remove: (name) => ['mcp', 'remove', '-s', 'user', name],\n        parseList: (output) => parseMcpListOutput(output, /^([a-zA-Z0-9_-]+):/)\n    },\n    gemini: {\n        command: 'gemini',\n        listArgs: ['mcp', 'list'],\n        addStdio: (name, cmd, args, env) => {\n            const base = ['mcp', 'add', name, cmd];\n            if (args && args.length > 0) base.push(...args);\n            if (env && Object.keys(env).length > 0) {\n                for (const [key, value] of Object.entries(env)) {\n                    base.push('-e', `${key}=${resolveEnvVar(value)}`);\n                }\n            }\n            return base;\n        },\n        addHttp: (name, url, headers) => {\n            const base = ['mcp', 'add', '-t', 'http', name, url];\n            if (headers) {\n                for (const [key, value] of Object.entries(headers)) {\n                    base.push('-H', `${key}=${resolveEnvVar(value)}`);\n                }\n            }\n            return base;\n        },\n        addSse: (name, url) => {\n            return ['mcp', 'add', '-t', 'sse', name, url];\n        },\n        remove: (name) => ['mcp', 'remove', name],\n        parseList: (output) => parseMcpListOutput(output, /^âœ“ ([a-zA-Z0-9_-]+):/)\n    },\n    qwen: {\n        command: 'qwen',\n        listArgs: ['mcp', 'list'],\n        addStdio: (name, cmd, args, env) => {\n            const base = ['mcp', 'add', name, cmd];\n            if (args && args.length > 0) base.push(...args);\n            if (env && Object.keys(env).length > 0) {\n                for (const [key, value] of Object.entries(env)) {\n                    base.push('-e', `${key}=${resolveEnvVar(value)}`);\n                }\n            }\n            return base;\n        },\n        addHttp: (name, url, headers) => {\n            const base = ['mcp', 'add', '-t', 'http', name, url];\n            if (headers) {\n                for (const [key, value] of Object.entries(headers)) {\n                    base.push('-H', `${key}=${resolveEnvVar(value)}`);\n                }\n            }\n            return base;\n        },\n        addSse: (name, url) => {\n            return ['mcp', 'add', '-t', 'sse', name, url];\n        },\n        remove: (name) => ['mcp', 'remove', name],\n        parseList: (output) => parseMcpListOutput(output, /^âœ“ ([a-zA-Z0-9_-]+):/)\n    }\n};\n\nfunction parseMcpListOutput(output: string, pattern: RegExp): string[] {\n    const servers: string[] = [];\n    for (const line of output.split('\\n')) {\n        const match = line.match(pattern);\n        if (match) {\n            servers.push(match[1]);\n        }\n    }\n    return servers;\n}\n\nfunction resolveEnvVar(value: string): string {\n    if (typeof value !== 'string') return value;\n\n    const envMatch = value.match(/\\$\\{([A-Z0-9_]+)\\}/i);\n    if (envMatch) {\n        const envName = envMatch[1];\n        const envValue = process.env[envName];\n        if (envValue) {\n            return envValue;\n        } else {\n            console.warn(kleur.yellow(`  âš ï¸  Environment variable ${envName} is not set in ${getEnvFilePath()}`));\n            return '';\n        }\n    }\n\n    return value;\n}\n\nexport function detectAgent(systemRoot: string): AgentName | null {\n    const normalizedRoot = systemRoot.replace(/\\\\/g, '/').toLowerCase();\n    if (normalizedRoot.includes('.claude') || normalizedRoot.includes('/claude')) {\n        return 'claude';\n    } else if (normalizedRoot.includes('.gemini') || normalizedRoot.includes('/gemini')) {\n        return 'gemini';\n    } else if (normalizedRoot.includes('.qwen') || normalizedRoot.includes('/qwen')) {\n        return 'qwen';\n    }\n    return null;\n}\n\nfunction buildAddCommand(agent: AgentName, name: string, server: any): string[] | null {\n    const cli = AGENT_CLI[agent];\n    if (!cli) return null;\n\n    if (server.url || server.serverUrl) {\n        const url = server.url || server.serverUrl;\n        const type = server.type || (url.includes('/sse') ? 'sse' : 'http');\n\n        if (type === 'sse') {\n            return cli.addSse(name, url);\n        } else {\n            return cli.addHttp(name, url, server.headers);\n        }\n    }\n\n    if (server.command) {\n        return cli.addStdio(name, server.command, server.args, server.env);\n    }\n\n    console.warn(kleur.yellow(`  âš ï¸  Skipping server \"${name}\": Unknown configuration`));\n    return null;\n}\n\ninterface CommandResult {\n    success: boolean;\n    dryRun?: boolean;\n    skipped?: boolean;\n    error?: string;\n}\n\nfunction executeCommand(agent: AgentName, args: string[], dryRun: boolean = false): CommandResult {\n    const cli = AGENT_CLI[agent];\n\n    const quotedArgs = args.map(arg => {\n        if (arg.includes(' ') && !arg.startsWith('\"') && !arg.startsWith(\"'\")) {\n            return `\"${arg}\"`;\n        }\n        return arg;\n    });\n    const command = `${cli.command} ${quotedArgs.join(' ')}`;\n\n    if (dryRun) {\n        console.log(kleur.cyan(`  [DRY RUN] ${command}`));\n        return { success: true, dryRun: true };\n    }\n\n    try {\n        execSync(command, { stdio: 'pipe' });\n        console.log(kleur.green(`  âœ“ ${args.slice(2).join(' ')}`));\n        return { success: true };\n    } catch (error: any) {\n        const stderr = error.stderr?.toString() || error.message;\n\n        if (stderr.includes('already exists') || stderr.includes('already configured')) {\n            let serverName = 'unknown';\n            if (agent === 'claude') {\n                const addIndex = args.indexOf('add');\n                for (let i = addIndex + 1; i < args.length; i++) {\n                    const arg = args[i];\n                    if (arg === '--') continue;\n                    if (arg.startsWith('-')) continue;\n                    if (['local', 'user', 'project', 'http', 'sse', 'stdio'].includes(arg)) continue;\n                    serverName = arg;\n                    break;\n                }\n            } else if (agent === 'gemini' || agent === 'qwen') {\n                const addIndex = args.indexOf('add');\n                for (let i = addIndex + 1; i < args.length; i++) {\n                    const arg = args[i];\n                    if (arg === '-t') { i++; continue; }\n                    if (arg.startsWith('-')) continue;\n                    if (['http', 'sse', 'stdio'].includes(arg)) continue;\n                    serverName = arg;\n                    break;\n                }\n            } else {\n                serverName = args[2];\n            }\n            console.log(kleur.dim(`  âœ“ ${serverName} (already configured)`));\n            return { success: true, skipped: true };\n        }\n\n        console.log(kleur.red(`  âœ— Failed: ${stderr.trim()}`));\n        return { success: false, error: stderr };\n    }\n}\n\nfunction getCurrentServers(agent: AgentName): string[] {\n    const cli = AGENT_CLI[agent];\n    try {\n        const output = execSync(`${cli.command} ${cli.listArgs.join(' ')}`, {\n            encoding: 'utf8',\n            stdio: ['pipe', 'pipe', 'ignore']\n        });\n        return cli.parseList(output);\n    } catch (error) {\n        return [];\n    }\n}\n\n/**\n * Sync MCP servers to an agent using official CLI\n */\nexport async function syncMcpServersWithCli(\n    agent: AgentName,\n    mcpConfig: any,\n    dryRun: boolean = false,\n    prune: boolean = false\n): Promise<void> {\n    const cli = AGENT_CLI[agent];\n    if (!cli) {\n        console.log(kleur.yellow(`  âš ï¸  Unsupported agent: ${agent}`));\n        return;\n    }\n\n    console.log(kleur.bold(`\\nSyncing MCP servers to ${agent}...`));\n\n    ensureEnvFile();\n    loadEnvFile();\n\n    const missingEnvVars = checkRequiredEnvVars();\n    if (missingEnvVars.length > 0) {\n        handleMissingEnvVars(missingEnvVars);\n    }\n\n    const currentServers = getCurrentServers(agent);\n    const canonicalServers = new Set(Object.keys(mcpConfig.mcpServers || {}));\n\n    if (prune) {\n        console.log(kleur.red('\\n  Prune mode: Removing servers not in canonical config...'));\n        for (const serverName of currentServers) {\n            if (!canonicalServers.has(serverName)) {\n                console.log(kleur.red(`  Removing: ${serverName}`));\n                executeCommand(agent, cli.remove(serverName), dryRun);\n            }\n        }\n    }\n\n    console.log(kleur.cyan('\\n  Adding/Updating canonical servers...'));\n    let successCount = 0;\n\n    for (const [name, server] of Object.entries(mcpConfig.mcpServers)) {\n        const cmd = buildAddCommand(agent, name, server);\n        if (cmd) {\n            const result = executeCommand(agent, cmd, dryRun);\n            if (result.success) {\n                successCount++;\n            }\n        }\n    }\n\n    console.log(kleur.green(`\\n  âœ“ Synced ${successCount} MCP servers`));\n}\n\n/**\n * Load canonical MCP config from repository\n */\nexport function loadCanonicalMcpConfig(repoRoot: string): any {\n    const corePath = path.join(repoRoot, 'config', 'mcp_servers.json');\n\n    const config: any = { mcpServers: {} };\n\n    if (fs.existsSync(corePath)) {\n        const core = fs.readJsonSync(corePath);\n        config.mcpServers = { ...config.mcpServers, ...core.mcpServers };\n    }\n\n    return config;\n}\n","import fs from 'fs-extra';\nimport path from 'path';\nimport os from 'os';\nimport kleur from 'kleur';\nimport dotenv from 'dotenv';\n\n/**\n * Environment file location: ~/.config/jaggers-agent-tools/.env\n */\nconst CONFIG_DIR = path.join(os.homedir(), '.config', 'jaggers-agent-tools');\nconst ENV_FILE = path.join(CONFIG_DIR, '.env');\nconst ENV_EXAMPLE_FILE = path.join(CONFIG_DIR, '.env.example');\n\ninterface EnvVarConfig {\n    description: string;\n    example: string;\n    getUrl: () => string;\n}\n\n/**\n * Required environment variables for MCP servers\n */\nconst REQUIRED_ENV_VARS: Record<string, EnvVarConfig> = {\n    CONTEXT7_API_KEY: {\n        description: 'Context7 MCP server API key',\n        example: 'ctx7sk-your-api-key-here',\n        getUrl: () => 'https://context7.com/',\n    },\n};\n\n/**\n * Ensure config directory and .env file exist\n */\nexport function ensureEnvFile(): boolean {\n    // Create config directory if missing\n    if (!fs.existsSync(CONFIG_DIR)) {\n        fs.ensureDirSync(CONFIG_DIR);\n        console.log(kleur.gray(`  Created config directory: ${CONFIG_DIR}`));\n    }\n\n    // Create .env.example if missing\n    if (!fs.existsSync(ENV_EXAMPLE_FILE)) {\n        createEnvExample();\n    }\n\n    // Create .env if missing\n    if (!fs.existsSync(ENV_FILE)) {\n        createEnvFile();\n        return false; // File was created (user needs to fill it)\n    }\n\n    return true; // File already exists\n}\n\nfunction createEnvExample(): void {\n    const content = [\n        '# Jaggers Agent Tools - Environment Variables',\n        '# Copy this file to .env and fill in your actual values',\n        '',\n        ...Object.entries(REQUIRED_ENV_VARS).map(([key, config]) => {\n            return [\n                `# ${config.description}`,\n                `# Get your key from: ${config.getUrl()}`,\n                `${key}=${config.example}`,\n                '',\n            ].join('\\n');\n        }),\n        '# See config/.env.example in the repository for all available options',\n        '',\n    ].join('\\n');\n\n    fs.writeFileSync(ENV_EXAMPLE_FILE, content);\n    console.log(kleur.gray(`  Created example file: ${ENV_EXAMPLE_FILE}`));\n}\n\nfunction createEnvFile(): void {\n    const content = [\n        '# Jaggers Agent Tools - Environment Variables',\n        '# Generated automatically by jaggers-agent-tools CLI',\n        '',\n        '# Copy values from .env.example and fill in your actual keys',\n        '',\n    ].join('\\n');\n\n    fs.writeFileSync(ENV_FILE, content);\n    console.log(kleur.green(`  Created environment file: ${ENV_FILE}`));\n}\n\n/**\n * Load environment variables from .env file\n * Also loads from process.env (which takes precedence)\n */\nexport function loadEnvFile(): Record<string, string> {\n    if (fs.existsSync(ENV_FILE)) {\n        const envConfig = dotenv.parse(fs.readFileSync(ENV_FILE));\n\n        // Merge with process.env (process.env takes precedence)\n        for (const [key, value] of Object.entries(envConfig)) {\n            if (!process.env[key]) {\n                process.env[key] = value;\n            }\n        }\n\n        return envConfig;\n    }\n\n    return {};\n}\n\n/**\n * Check if required environment variables are set\n * Returns array of missing variable names\n */\nexport function checkRequiredEnvVars(): string[] {\n    const missing: string[] = [];\n\n    for (const [key] of Object.entries(REQUIRED_ENV_VARS)) {\n        if (!process.env[key]) {\n            missing.push(key);\n        }\n    }\n\n    return missing;\n}\n\n/**\n * Prompt user about missing environment variables\n * Returns true if user wants to proceed anyway\n */\nexport function handleMissingEnvVars(missing: string[]): boolean {\n    if (missing.length === 0) {\n        return true;\n    }\n\n    console.log(kleur.yellow('\\n  âš ï¸  Missing environment variables:'));\n    for (const key of missing) {\n        const config = REQUIRED_ENV_VARS[key];\n        console.log(kleur.yellow(`    - ${key}: ${config.description}`));\n        console.log(kleur.dim(`      Get your key from: ${config.getUrl()}`));\n    }\n\n    console.log(kleur.yellow(`\\n  Please edit: ${ENV_FILE}`));\n    console.log(kleur.gray(`  Or copy from example: ${ENV_EXAMPLE_FILE}`));\n\n    return false; // Don't proceed automatically\n}\n\nexport function getEnvFilePath(): string {\n    return ENV_FILE;\n}\n\nexport function getConfigDir(): string {\n    return CONFIG_DIR;\n}\n","import fs from 'fs-extra';\n\nexport interface BackupInfo {\n    originalPath: string;\n    backupPath: string;\n    timestamp: Date;\n}\n\nexport async function createBackup(filePath: string): Promise<BackupInfo> {\n    const timestamp = Date.now();\n    const backupPath = `${filePath}.backup-${timestamp}`;\n\n    if (await fs.pathExists(filePath)) {\n        await fs.copy(filePath, backupPath);\n    }\n\n    return {\n        originalPath: filePath,\n        backupPath,\n        timestamp: new Date(),\n    };\n}\n\nexport async function restoreBackup(backup: BackupInfo): Promise<void> {\n    if (await fs.pathExists(backup.backupPath)) {\n        await fs.move(backup.backupPath, backup.originalPath, { overwrite: true });\n    }\n}\n\nexport async function cleanupBackup(backup: BackupInfo): Promise<void> {\n    await fs.remove(backup.backupPath);\n}\n","import { Command } from 'commander';\nimport kleur from 'kleur';\nimport { getContext } from '../core/context.js';\nimport { calculateDiff } from '../core/diff.js';\nimport path from 'path';\n\nexport function createStatusCommand(): Command {\n    return new Command('status')\n        .description('Show diff between repo and target environments (read-only)')\n        .action(async () => {\n            const repoRoot = path.resolve(process.cwd(), '..');\n            const ctx = await getContext();\n            const { targets } = ctx;\n\n            for (const target of targets) {\n                console.log(kleur.bold(`\\nðŸ“‚ ${target}`));\n\n                const changeSet = await calculateDiff(repoRoot, target);\n                let hasChanges = false;\n\n                for (const [category, cat] of Object.entries(changeSet)) {\n                    const c = cat as any;\n                    if (c.missing.length === 0 && c.outdated.length === 0 && c.drifted.length === 0) continue;\n                    hasChanges = true;\n\n                    console.log(kleur.bold(`  ${category}:`));\n                    for (const item of c.missing) {\n                        console.log(kleur.yellow(`    + ${item} (missing)`));\n                    }\n                    for (const item of c.outdated) {\n                        console.log(kleur.blue(`    â†‘ ${item} (outdated)`));\n                    }\n                    for (const item of c.drifted) {\n                        console.log(kleur.red(`    âœ— ${item} (drifted â€” local ahead)`));\n                    }\n                }\n\n                if (!hasChanges) {\n                    console.log(kleur.green('  âœ“ Up-to-date'));\n                }\n            }\n\n            console.log();\n        });\n}\n","import { Command } from 'commander';\nimport kleur from 'kleur';\nimport { resetContext } from '../core/context.js';\n\nexport function createResetCommand(): Command {\n    return new Command('reset')\n        .description('Reset CLI configuration (clears saved sync mode and preferences)')\n        .action(() => {\n            resetContext();\n            console.log(kleur.green('âœ“ Configuration reset. Run sync again to reconfigure.'));\n        });\n}\n"],"mappings":"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","names":["Command","kleur","prompts","join","fs","fs","join","join","join","join","join","join","join","fs","path","fs","kleur","fs","fs","fs","fs","path","os","config","fs","path","kleur","fs","path","os","kleur","config","kleur","path","config","fs","fs","kleur","path","fs","config","path","kleur","config","prompts","Command","kleur","path","Command","kleur","Command","kleur","Command","kleur","Command"]}